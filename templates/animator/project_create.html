{% extends 'base.html' %}

{% block title %}Create New Project - {{ g.pn }}{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <h1 class="mb-4">Create New Project</h1>

            <form method="post" class="needs-validation" novalidate>
                {% csrf_token %}

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Project Details</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="name" class="form-label">Project Name *</label>
                            <input type="text" class="form-control" id="name" name="name" required
                                   placeholder="My Animation Project">
                        </div>

                        <div class="mb-3">
                            <label for="description" class="form-label">Description</label>
                            <textarea class="form-control" id="description" name="description" rows="3"
                                      placeholder="What's this project about?"></textarea>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Project Type *</label>
                            <div class="row">
                                {% for value, label in project_types %}
                                <div class="col-md-6 mb-2">
                                    <div class="form-check card p-3">
                                        <input class="form-check-input" type="radio" name="project_type"
                                               id="type-{{ value }}" value="{{ value }}"
                                               {% if value == 'quick' %}checked{% endif %}>
                                        <label class="form-check-label" for="type-{{ value }}">
                                            <strong>{{ label }}</strong>
                                            <p class="mb-0 text-muted small">
                                                {% if value == 'quick' %}
                                                Perfect for GIFs and short clips
                                                {% elif value == 'short' %}
                                                Great for social media content
                                                {% elif value == 'medium' %}
                                                For music videos and shorts
                                                {% else %}
                                                Full-length animated content
                                                {% endif %}
                                            </p>
                                        </label>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Video Settings</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <label for="width" class="form-label">Width (px)</label>
                                <input type="number" class="form-control" id="width" name="width"
                                       value="1920" min="320" max="3840">
                            </div>
                            <div class="col-md-4">
                                <label for="height" class="form-label">Height (px)</label>
                                <input type="number" class="form-control" id="height" name="height"
                                       value="1080" min="240" max="2160">
                            </div>
                            <div class="col-md-4">
                                <label for="fps" class="form-label">Frame Rate</label>
                                <select class="form-select" id="fps" name="fps">
                                    <option value="24">24 fps (Film)</option>
                                    <option value="30" selected>30 fps (Standard)</option>
                                    <option value="60">60 fps (Smooth)</option>
                                </select>
                            </div>
                        </div>

                        <div class="mt-3">
                            <label class="form-label">Presets</label>
                            <div class="btn-group w-100">
                                <button type="button" class="btn btn-outline-secondary preset-btn"
                                        data-width="1920" data-height="1080">1080p (16:9)</button>
                                <button type="button" class="btn btn-outline-secondary preset-btn"
                                        data-width="1080" data-height="1920">9:16 (Stories)</button>
                                <button type="button" class="btn btn-outline-secondary preset-btn"
                                        data-width="1080" data-height="1080">Square (1:1)</button>
                                <button type="button" class="btn btn-outline-secondary preset-btn"
                                        data-width="3840" data-height="2160">4K</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-between">
                    <a href="{% url 'animator:dashboard' %}" class="btn btn-outline-secondary">Cancel</a>
                    <button type="submit" class="btn btn-primary btn-lg">Create Project</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
document.querySelectorAll('.preset-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        document.getElementById('width').value = btn.dataset.width;
        document.getElementById('height').value = btn.dataset.height;
    });
});
</script>
{% endblock %}
